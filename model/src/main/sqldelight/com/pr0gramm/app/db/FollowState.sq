

CREATE TABLE followState (
    user_id INTEGER NOT NULL PRIMARY KEY,

    -- true if the user follows this user.
    following INTEGER AS Boolean NOT NULL DEFAULT 0,

    -- true if the user wants to get notified about new posts
    subscribed INTEGER AS Boolean NOT NULL DEFAULT 0
);


all:
SELECT *
FROM followState;

forUser:
SELECT *
FROM followState
WHERE user_id=?;

updateUser:
INSERT OR REPLACE INTO followState (user_id, following, subscribed)
VALUES (?, ?, ?);